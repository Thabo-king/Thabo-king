<!-- Load External Script for Roschard -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Versioning and script source for Slater app
    let version = "1.0";
    function loadSlaterScript(url) {
      const script = document.createElement("script");
      script.src = url;
      script.type = "text/javascript";
      document.body.appendChild(script);
      script.onload = () => console.log("Slater script loaded successfully.");
      script.onerror = (error) => console.error("Error loading Slater script", error);
    }

    // Choose source based on environment
    const isStaging = window.location.host.includes("webflow.io");
    const scriptSrc = isStaging
      ? "https://slater.app/5072/10063.js"
      : `https://assets.slater.app/slater/5072/10063.js?v=${version}`;
    loadSlaterScript(scriptSrc);
  });
</script>

<!-- GSAP and ScrollTrigger Animation for Roschard -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Initialize SplitType for detailed text control
    const typeSplit = new SplitType("[text-split]", { types: "words, chars", tagName: "span" });
    
    // Create ScrollTrigger function to manage animation triggers
    function createScrollTrigger(element, timeline) {
      ScrollTrigger.create({
        trigger: element,
        start: "top bottom",
        onLeaveBack: () => {
          timeline.progress(0).pause();
        }
      });

      ScrollTrigger.create({
        trigger: ".scroll-trigger-pill",
        start: "top 55%",
        end: "bottom 30%",
        onEnter: () => timeline.play(),
        onLeaveBack: () => timeline.pause(),
        markers: false
      });
    }

    // Delayed Animation for Each Element with [letters-fade-in] attribute
    let delayIncrement = 0;
    $("[letters-fade-in]").each(function (index) {
      const timeline = gsap.timeline({ paused: true });
      
      // Fade-in and scale-up effect with stagger for sophistication
      timeline.from($(this), { opacity: 0, scale: 0.95, ease: "power2.out", stagger: 0.3 });
      timeline.from($(this).find(".char"), {
        opacity: 0,
        y: 20,
        duration: 0.3,
        ease: "power2.out",
        stagger: { amount: 1 }
      });

      // Link each timeline to scroll position
      createScrollTrigger($(this), timeline);
      
      // Increment delay for each element to add gradual animation effect
      delayIncrement += 0.3;
    });

    // Prevent Flash of Unstyled Content (FOUC) by setting initial opacity
    gsap.set("[text-split]", { opacity: 1 });
  });
</script>

</body>
</html>
